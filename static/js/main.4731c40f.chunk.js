(this.webpackJsonpfriday=this.webpackJsonpfriday||[]).push([[0],{12:function(e,t,r){e.exports={login:"_Login_login__1aTwD",card:"_Login_card__36fS4",logo:"_Login_logo__2DXWa",form:"_Login_form__w6gaQ",error:"_Login_error__PFg6J",forgot:"_Login_forgot__2AYBR",loginBtn:"_Login_loginBtn__1SR9R",account:"_Login_account__2RVz6",reg:"_Login_reg__38MP2"}},14:function(e,t,r){e.exports={reg:"Register_reg__2RDPC",card:"Register_card__24R2W",logo:"Register_logo__28S9g",error:"Register_error__1ssu_",form:"Register_form__11lw-",view:"Register_view__1fmjn",btnWrap:"Register_btnWrap__GbTFP",cancel:"Register_cancel__140vU",register:"Register_register__2pkWQ"}},15:function(e,t,r){e.exports={forgot:"ForgotPassword_forgot__2rors",card:"ForgotPassword_card__N_yru",logo:"ForgotPassword_logo__3MPsI",form:"ForgotPassword_form__11lZX",text:"ForgotPassword_text__2dYaL",forgotBtn:"ForgotPassword_forgotBtn__2ZyA6",span:"ForgotPassword_span__3xTVI",logging:"ForgotPassword_logging__218yl"}},16:function(e,t,r){e.exports={set:"SetPassword_set__Fh_Vz",card:"SetPassword_card__1_jYM",logo:"SetPassword_logo__28EDF",form:"SetPassword_form__jjQMQ",text:"SetPassword_text__1fkLb",Btn:"SetPassword_Btn__3ybTo"}},24:function(e,t,r){e.exports={checkbox:"SuperCheckbox_checkbox__3cnHt",spanClassName:"SuperCheckbox_spanClassName__1v74u",SuperCheckboxLabel:"SuperCheckbox_SuperCheckboxLabel__3Q_dW",finalInputClassName:"SuperCheckbox_finalInputClassName__1KuID"}},31:function(e,t,r){e.exports={wrap:"SuperInputText_wrap__k4VwZ"}},32:function(e,t,r){e.exports={tableHeader:"PacksContainer_tableHeader__1wXGI",userData:"PacksContainer_userData__3MSsB"}},41:function(e,t,r){e.exports={header:"Header_header__p-D8N"}},43:function(e,t,r){e.exports={registerPage:"RegisterPage_vit_registerPage__1N3Fl"}},49:function(e,t,r){},50:function(e,t,r){},75:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),s=r(21),c=r.n(s),o=(r(49),r(50),r(41)),i=r.n(o),u=r(6),l=r(0),d=Object(l.jsx)(u.b,{to:"/login",children:"Login"}),j=Object(l.jsx)(u.b,{to:"/registration",children:"Registration"}),b=Object(l.jsx)(u.b,{to:"/forgot",children:"Password recovery"}),g=Object(l.jsx)(u.b,{to:"/profile",children:"Profile"}),O=Object(l.jsx)(u.b,{to:"/packs",children:"Packs"}),h=Object(l.jsx)(u.b,{to:"/cards",children:"Cards"}),p=function(){return Object(l.jsxs)("div",{className:i.a.header,children:[d,j,b,g,O,h]})},S=r(5),A=r(8),f=r(3),C=r(2),m=r(42),x=r.n(m).a.create({baseURL:"https://neko-back.herokuapp.com/2.0",withCredentials:!0,headers:{}}),E=function(e,t){return x.post("auth/register",{email:e,password:t})},R={requestStatus:"success"},w=function(e){return{type:"CARDS/REGISTER/SET-REQUEST-STATUS",requestStatus:e}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CARDS/REGISTER/SET-REQUEST-STATUS":return Object(C.a)(Object(C.a)({},e),{},{requestStatus:t.requestStatus});default:return e}},P={email:"",error:"",registrationSuccess:!1},k=function(e){return{type:"CARDS/REGISTER/SET-ERROR",error:e}},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CARDS/REGISTER/SET-EMAIL":return Object(C.a)(Object(C.a)({},e),{},{email:t.email});case"CARDS/REGISTER/SET-ERROR":return Object(C.a)(Object(C.a)({},e),{},{error:t.error});case"CARDS/REGISTER/REGISTRATION-SUCCESS":return Object(C.a)(Object(C.a)({},e),{},{registrationSuccess:t.registrationSuccess});default:return e}},D=r(43),I=r.n(D),y=r(14),G=r.n(y),T="data:image/png;base64,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",K=r(18),M=r(31),_=r.n(M),U=function(e){var t=e.type,r=e.onChange,n=e.onChangeText,a=e.onKeyPress,s=e.onEnter,c=e.error,o=(e.setError,e.className,e.spanClassName),i=e.label,u=Object(K.a)(e,["type","onChange","onChangeText","onKeyPress","onEnter","error","setError","className","spanClassName","label"]),d="".concat(_.a.error," ").concat(o||"");return Object(l.jsxs)("div",{className:_.a.wrap,children:[Object(l.jsx)("input",Object(C.a)({type:t,onChange:function(e){r&&r(e),n&&n(e.currentTarget.value)},onKeyPress:function(e){a&&a(e),"Enter"===e.key&&s&&s()}},u)),Object(l.jsx)("label",{children:i}),c?Object(l.jsx)("span",{className:d,children:c}):Object(l.jsx)("span",{className:d})]})},L=function(e){e.error,e.red;var t=e.className,r=Object(K.a)(e,["error","red","className"]);return Object(l.jsx)("button",Object(C.a)({className:t},r))},Y=function(e){return Object(l.jsx)("div",{className:G.a.reg,children:Object(l.jsxs)("div",{className:G.a.card,children:[Object(l.jsx)("img",{className:G.a.logo,src:T,alt:"logo"}),Object(l.jsx)("h2",{className:G.a.title,children:"Sign Up"}),Object(l.jsxs)("form",{className:G.a.form,children:[e.error&&Object(l.jsx)("span",{className:G.a.error,children:e.error}),"loading"===e.requestStatus&&Object(l.jsx)("span",{children:"loading..."}),Object(l.jsx)(U,{type:"email",setError:function(e){return e},onChange:e.onChangeEmail,label:"Email"}),Object(l.jsx)(U,{type:e.isChecked?"text":"password",setError:function(e){return e},onChange:e.onChangePassword,label:"Password"}),Object(l.jsx)(U,{type:e.isChecked?"text":"password",setError:function(e){return e},onChange:e.onChangeSecondPassword,label:"Confirm password"}),Object(l.jsx)("span",{className:G.a.view,onClick:e.viewPassword,children:"View password"}),Object(l.jsxs)("div",{className:G.a.btnWrap,children:[Object(l.jsx)(L,{className:G.a.cancel,onClick:e.closeRegister,children:"Cancel"}),Object(l.jsx)(L,{disabled:"loading"===e.requestStatus,className:G.a.register,onClick:e.onSubmit,children:"Sign up"})]})]})]})})},Q=function(){var e=Object(n.useState)(""),t=Object(A.a)(e,2),r=t[0],a=t[1],s=Object(n.useState)(""),c=Object(A.a)(s,2),o=c[0],i=c[1],u=Object(n.useState)(""),d=Object(A.a)(u,2),j=d[0],b=d[1],g=Object(n.useState)(!1),O=Object(A.a)(g,2),h=O[0],p=O[1],C=Object(f.c)((function(e){return e.register.error})),m=Object(f.c)((function(e){return e.app.requestStatus})),x=Object(f.c)((function(e){return e.register.registrationSuccess})),R=Object(f.b)(),v=Object(S.g)();Object(n.useEffect)((function(){R(k(""))}),[r,o,j]);if(x)return Object(l.jsx)(S.a,{to:"/login"});return Object(l.jsx)("div",{className:I.a.registerPage,children:Object(l.jsx)(Y,{error:C,requestStatus:m,isChecked:h,onChangeEmail:function(e){a(e.currentTarget.value)},onChangePassword:function(e){i(e.currentTarget.value)},onChangeSecondPassword:function(e){b(e.currentTarget.value)},viewPassword:function(){p(!h)},closeRegister:function(){v.push("/login")},onSubmit:function(){R(o===j?function(e,t){return function(r){return r(w("loading")),E(e,t).then((function(e){r(function(e){return{type:"CARDS/REGISTER/SET-EMAIL",email:e}}(e.data.addedUser.email)),r({type:"CARDS/REGISTER/REGISTRATION-SUCCESS",registrationSuccess:!0}),r(w("success"))})).catch((function(e){r(k(e.response.data.error)),r(w("success"))}))}}(r,o):k(j?"Passwords don't match":"Please fill in the confirm password field"))}})})},W=function(e,t,r){return x.post("auth/login",{email:e,password:t,rememberMe:r})},F={dataUser:null,errorMessage:"",loginButtonDisable:!1},B=function(e){return{type:"CARDS/LOGIN/POST-LOGIN-DATA",dataUser:e}},H=function(e){return{type:"CARDS/LOGIN/SET-ERROR-MESSAGE",error:e}},Z=function(e){return{type:"CARDS/LOGIN/LOGIN-BUTTON",disable:e}},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CARDS/LOGIN/POST-LOGIN-DATA":return Object(C.a)(Object(C.a)({},e),{},{dataUser:t.dataUser});case"CARDS/LOGIN/SET-ERROR-MESSAGE":return Object(C.a)(Object(C.a)({},e),{},{errorMessage:t.error});case"CARDS/LOGIN/LOGIN-BUTTON":return Object(C.a)(Object(C.a)({},e),{},{loginButtonDisable:t.disable});default:return e}},z=r(12),V=r.n(z),J=r(24),q=r.n(J),$=function(e){e.type;var t=e.onChange,r=e.onChangeChecked,n=e.className,a=(e.spanClassName,e.children,Object(K.a)(e,["type","onChange","onChangeChecked","className","spanClassName","children"]));"".concat(q.a.checkbox," ").concat(n||"");return Object(l.jsxs)("label",{className:q.a.SuperCheckboxLabel,children:[Object(l.jsx)("input",Object(C.a)({type:"checkbox",onChange:function(e){t&&t(e),r&&r(e.currentTarget.checked)},className:q.a.finalInputClassName},a)),Object(l.jsx)("span",{children:"Remember me"})]})},ee=function(e){return Object(l.jsx)("div",{className:V.a.login,children:Object(l.jsxs)("div",{className:V.a.card,children:["loading"===e.preloader?Object(l.jsx)("span",{children:"Loading..."}):null,Object(l.jsx)("img",{className:V.a.logo,src:T,alt:"logo"}),Object(l.jsx)("h2",{className:V.a.title,children:"Sign In"}),Object(l.jsx)("span",{className:V.a.error,children:e.dataLogin.errorMessage}),Object(l.jsxs)("form",{className:V.a.form,children:[Object(l.jsx)(U,{type:"email",setError:function(e){return e},onChange:e.onChangeEmailHandler,label:"Email"}),Object(l.jsx)(U,{type:"password",setError:function(e){return e},onChange:e.onChangePasswordHandler,label:"Password"}),Object(l.jsx)($,{type:"checkbox",onChange:e.onChangeRememberMeHandler}),Object(l.jsx)(u.c,{to:"/forgot",className:V.a.forgot,children:"Forgot Password"}),Object(l.jsx)(L,{disabled:e.dataLogin.loginButtonDisable,className:V.a.loginBtn,onClick:e.addUserData,children:"Login"}),Object(l.jsx)("span",{className:V.a.account,children:"Don't have an account?"})]}),Object(l.jsx)(u.c,{className:V.a.reg,to:"/registration",children:"Sign up"})]})})},te=function(){var e=Object(n.useState)(""),t=Object(A.a)(e,2),r=t[0],a=t[1],s=Object(n.useState)(""),c=Object(A.a)(s,2),o=c[0],i=c[1],u=Object(n.useState)(!1),d=Object(A.a)(u,2),j=d[0],b=d[1],g=Object(f.b)(),O=Object(f.c)((function(e){return e.login})),h=Object(f.c)((function(e){return e.app.requestStatus}));if(Object(n.useEffect)((function(){g(H(""))}),[r,o]),null!==O.dataUser)return Object(l.jsx)(S.a,{to:"/profile"});return Object(l.jsx)(ee,{title:"Sign in",onChangeEmailHandler:function(e){var t;t=e.currentTarget.value,a(t)},onChangePasswordHandler:function(e){var t;t=e.currentTarget.value,i(t)},addUserData:function(){g(function(e,t,r){return function(n){n(w("loading")),n(Z(!0)),W(e,t,r).then((function(e){n(B(e.data)),n(Z(!1))})).catch((function(e){n(H(e.response?e.response.data.error:e.message+", more details in the console")),n(Z(!1))})).finally((function(){n(w("success"))}))}}(r,o,j))},onChangeRememberMeHandler:function(e){var t;t=e.currentTarget.checked,b(t)},dataLogin:O,preloader:h})},re=function(e,t,r){return x.post("auth/forgot",{email:e,from:t,message:r})},ne={email:"",error:"",enterNewPassword:!1},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CARDS/REGISTER/FORGOT_PASSWORD":return Object(C.a)(Object(C.a)({},e),{},{email:t.email});case"CARDS/REGISTER/SET_ERROR":return Object(C.a)(Object(C.a)({},e),{},{error:t.error});case"CARDS/REGISTER/ENTER_NEW_PASSWORD":return Object(C.a)(Object(C.a)({},e),{},{enterNewPassword:t.enterNewPassword});default:return e}},se=r(15),ce=r.n(se),oe=function(e){var t=e.requestStatus,r=e.addNewPassword,n=e.onChangeEmailHandler,a=e.error;return Object(l.jsx)("div",{className:ce.a.forgot,children:Object(l.jsxs)("div",{className:ce.a.card,children:[Object(l.jsx)("img",{className:ce.a.logo,src:T,alt:"logo"}),Object(l.jsx)("h2",{className:ce.a.title,children:"Forgot your password?"}),Object(l.jsxs)("form",{className:ce.a.form,children:["loading"===t&&Object(l.jsx)("span",{children:"loading..."}),a&&Object(l.jsx)("span",{children:a}),Object(l.jsx)(U,{setError:function(e){return e},type:"data:image/png;base64,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",onChange:n,label:"Email"}),Object(l.jsx)("span",{className:ce.a.text,children:"Enter your email address and we will send you further instructions"}),Object(l.jsx)(L,{className:ce.a.forgotBtn,onClick:r,disabled:"loading"===t,children:"Send instruction"}),Object(l.jsx)("span",{className:ce.a.span,children:"Don\u2019t have an account?"})]}),Object(l.jsx)(u.c,{to:"/login",className:ce.a.logging,children:"Try logging in"})]})})},ie=function(){var e=Object(n.useState)(""),t=Object(A.a)(e,2),r=t[0],a=t[1],s=Object(f.c)((function(e){return e.forgotPassword.error})),c=Object(f.c)((function(e){return e.app.requestStatus})),o=Object(f.c)((function(e){return e.forgotPassword.enterNewPassword})),i=Object(f.b)();return o?Object(l.jsx)(S.a,{to:"new-password"}):Object(l.jsx)("div",{children:Object(l.jsx)(oe,{addNewPassword:function(){i(function(e,t,r){return function(n){return n(w("loading")),re(e,t,r).then((function(e){console.log(e.data),n(function(e){return{type:"CARDS/REGISTER/FORGOT_PASSWORD",email:e}}(e.data.info)),n({type:"CARDS/REGISTER/ENTER_NEW_PASSWORD",enterNewPassword:!0}),n(w("success"))})).catch((function(e){n({type:"CARDS/REGISTER/SET_ERROR",error:e.response.data.error})}))}}(r,"test-front-admin vsmaliakou@yandex.by","<div style=\"background-color: lime; padding: 15px\">\t\n\tpassword recovery link: \n\t<a href='http://localhost:3000/friday#/set-new-password/$token$'>\n    Link</a></div>"))},requestStatus:c,error:s,onChangeEmailHandler:function(e){a(e.currentTarget.value)}})})},ue=r(16),le=r.n(ue),de=function(e){var t=e.error,r=e.isChecked,n=e.requestStatus,a=e.onChangeNewPassword,s=e.onSubmit,c=e.viewPassword;return Object(l.jsx)("div",{className:le.a.set,children:Object(l.jsxs)("div",{className:le.a.card,children:[Object(l.jsx)("img",{className:le.a.logo,src:T,alt:"logo"}),Object(l.jsx)("h2",{className:le.a.title,children:"Create new password"}),Object(l.jsxs)("form",{className:le.a.form,children:[t&&Object(l.jsx)("span",{children:t}),"loading"===n&&Object(l.jsx)("span",{children:"loading..."}),Object(l.jsx)(U,{type:r?"text":"password",setError:function(e){return e},onChange:a,label:"Password"}),Object(l.jsx)("span",{onClick:c,children:"View password"}),Object(l.jsx)("span",{className:le.a.text,children:"Create new password and we will send you further instructions to email"}),Object(l.jsx)(L,{disabled:"loading"===n,className:le.a.Btn,onClick:s,children:"Create new password"})]})]})})},je=function(e,t){return x.post("auth/set-new-password",{password:e,resetPasswordToken:t})},be={error:"",isSuccessful:!1},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CARDS/NEW-PASSWORD/SET-ERROR-MESSAGE":return Object(C.a)(Object(C.a)({},e),{},{error:t.error});case"CARDS/NEW-PASSWORD/IS-SUCCESSFUL":return Object(C.a)(Object(C.a)({},e),{},{isSuccessful:t.isSuccessful});default:return e}},Oe=function(){var e=Object(n.useState)(""),t=Object(A.a)(e,2),r=t[0],a=t[1],s=Object(n.useState)(!1),c=Object(A.a)(s,2),o=c[0],i=c[1],u=Object(f.c)((function(e){return e.app.requestStatus})),d=Object(f.c)((function(e){return e.setPassword.error})),j=Object(f.c)((function(e){return e.setPassword.isSuccessful})),b=Object(S.h)().token,g=Object(f.b)();return j?Object(l.jsx)(S.a,{to:"/login"}):Object(l.jsx)("div",{children:Object(l.jsx)(de,{error:d,isChecked:o,requestStatus:u,onChangeNewPassword:function(e){a(e.currentTarget.value)},onSubmit:function(){g(function(e,t){return function(r){return r(w("loading")),je(e,t).then((function(e){r({type:"CARDS/NEW-PASSWORD/IS-SUCCESSFUL",isSuccessful:!0}),r(w("success"))})).catch((function(e){r({type:"CARDS/NEW-PASSWORD/SET-ERROR-MESSAGE",error:e.response.data.error}),r(w("fail"))}))}}(r,b))},viewPassword:function(){i(!o)}})})},he=r(32),pe=r.n(he),Se=r(25),Ae=function(){return x.get("cards/pack")},fe=function(e){return x.post("cards/pack",{cardsPack:e})},Ce=function(e){return x.delete("cards/pack/?id=".concat(e))},me=function(e){return x.put("cards/pack",{cardsPack:e})},xe=[],Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CARDS/PACKS/GET-CARDS-PACKS":return[].concat(Object(Se.a)(e),Object(Se.a)(t.cardsPacks));case"CARDS/PACKS/ADD-NEW-CARDS-PACK":return[t.newCardsPack].concat(Object(Se.a)(e));case"CARDS/PACKS/REMOVE-CARDS-PACK":return e.filter((function(e){return e._id!==t.cardsPackId}));case"CARDS/PACKS/UPDATE-CARDS-PACK":return e.map((function(e){return e._id===t.cardsPackId?Object(C.a)(Object(C.a)({},e),{},{user_name:t.newName}):e}));default:return e}},Re=function(){var e=Object(f.c)((function(e){return e.packs})),t=Object(f.b)(),r={name:"no Name",path:"/def",grade:0,shots:0,rating:0,deckCover:"url or base64",private:!1,type:"pack"};return Object(l.jsxs)("div",{children:[Object(l.jsx)(L,{onClick:function(){t((function(e){return Ae().then((function(t){e({type:"CARDS/PACKS/GET-CARDS-PACKS",cardsPacks:t.data.cardPacks})})).catch((function(e){console.log(e.response.data.error)}))}))},children:"Get packs"}),Object(l.jsxs)("div",{className:pe.a.tableHeader,children:[Object(l.jsx)("span",{children:"Name"}),Object(l.jsx)("span",{children:"cardsCount"}),Object(l.jsx)("span",{children:"updated"}),Object(l.jsx)("span",{children:"url"}),Object(l.jsx)("button",{onClick:function(){var e;t((e=r,function(t){return fe(e).then((function(e){t({type:"CARDS/PACKS/ADD-NEW-CARDS-PACK",newCardsPack:e.data.newCardsPack})})).catch((function(e){console.log(e.response.data.error)}))}))},children:"add"})]}),Object(l.jsx)(we,{cardsPacks:e,removeCardsPack:function(e){var r;t((r=e,function(e){return Ce(r).then((function(t){e(function(e){return{type:"CARDS/PACKS/REMOVE-CARDS-PACK",cardsPackId:e}}(t.data.deletedCardsPack._id))})).catch((function(e){console.log(e.response.data.error)}))}))},updateCardsPack:function(e){var r,n;t((r=e,n="new name",function(e){return me({_id:r,name:n}).then((function(t){var r=t.data.updatedCardsPack;e({type:"CARDS/PACKS/UPDATE-CARDS-PACK",cardsPackId:r._id,newName:r.name})})).catch((function(e){console.log(e.response.data.error)}))}))}})]})},we=function(e){return Object(l.jsx)("div",{children:e.cardsPacks.map((function(t){return Object(l.jsxs)("div",{className:pe.a.userData,children:[Object(l.jsx)("div",{children:t.user_name}),Object(l.jsx)("div",{children:t.cardsCount}),Object(l.jsx)("div",{children:t.updated}),Object(l.jsx)("div",{children:t.deckCover}),Object(l.jsx)("button",{onClick:function(){e.removeCardsPack(t._id)},children:"delete"}),Object(l.jsx)("button",{onClick:function(){e.updateCardsPack(t._id)},children:"update"})]},t.user_id)}))})},ve=function(){return Object(l.jsx)("div",{children:"Cards"})},Pe=function(){return x.delete("auth/me",{})},ke=function(){return x.post("auth/me",{})},Ne={profileData:null,errorMessage:""},De=function(e){return{type:"CARDS/PROFILE/SET-ERROR-MESSAGE",error:e}},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CARDS/PROFILE/GET-PROFILE-DATA":return Object(C.a)(Object(C.a)({},e),{},{profileData:t.data});case"CARDS/PROFILE/SET-ERROR-MESSAGE":return Object(C.a)(Object(C.a)({},e),{},{errorMessage:t.error});default:return e}},ye="CARDS/LOGOUT/LOG-OUT-OF-PROFILE",Ge={logOutInfo:null,errorMessage:null},Te=function(){return function(e){Pe().then((function(t){var r;e((r=t.data.info,{type:ye,data:r})),e(B(null))})).catch((function(t){e(De(t.response?t.response.data.error:t.message+", more details in the console"))}))}},Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ye:return Object(C.a)(Object(C.a)({},e),{},{logOutInfo:t.data});default:return e}},Me=function(){var e,t,r,a,s=Object(f.b)(),c=Object(f.c)((function(e){return e.login})),o=Object(f.c)((function(e){return e.profile}));if(Object(n.useEffect)((function(){s((function(e){ke().then((function(t){e({type:"CARDS/PROFILE/GET-PROFILE-DATA",data:t.data})})).catch((function(t){e(De(t.response?t.response.data.error:t.message+", more details in the console"))}))}))}),[]),null===c.dataUser)return Object(l.jsx)(S.a,{to:"/login"});return Object(l.jsxs)("div",{children:[Object(l.jsxs)("p",{children:["name:",null===(e=o.profileData)||void 0===e?void 0:e.name]}),Object(l.jsxs)("p",{children:["token:",null===(t=o.profileData)||void 0===t?void 0:t.token]}),Object(l.jsxs)("p",{children:["cards:",null===(r=o.profileData)||void 0===r?void 0:r.publicCardPacksCount]}),Object(l.jsxs)("p",{children:["email:",null===(a=o.profileData)||void 0===a?void 0:a.email]}),Object(l.jsx)(L,{className:V.a.loginBtn,onClick:function(){s(Te())},children:"Log out"})]})},_e=function(){return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(p,{}),Object(l.jsx)("div",{className:"App-content",children:Object(l.jsxs)(S.d,{children:[Object(l.jsx)(S.b,{path:"/login",render:function(){return Object(l.jsx)(te,{})}}),Object(l.jsx)(S.b,{path:"/registration",render:function(){return Object(l.jsx)(Q,{})}}),Object(l.jsx)(S.b,{path:"/profile",render:function(){return Object(l.jsx)(Me,{})}}),Object(l.jsx)(S.b,{path:"/forgot",render:function(){return Object(l.jsx)(ie,{})}}),Object(l.jsx)(S.b,{path:"/set-new-password/:token",render:function(){return Object(l.jsx)(Oe,{})}}),Object(l.jsx)(S.b,{path:"/packs",render:function(){return Object(l.jsx)(Re,{})}}),Object(l.jsx)(S.b,{path:"/cards",render:function(){return Object(l.jsx)(ve,{})}}),Object(l.jsx)(S.b,{path:"/404",render:function(){return Object(l.jsx)("div",{children:"404 PAGE NOT FOUND"})}}),Object(l.jsx)(S.b,{path:"*",render:function(){return Object(l.jsx)(S.a,{to:"/404"})}})]})})]})},Ue=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,76)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;r(e),n(e),a(e),s(e),c(e)}))},Le=r(26),Ye=r(44),Qe={},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"":default:return e}},Fe=Object(Le.b)({login:X,register:N,profile:Ie,forgotPassword:ae,setPassword:ge,app:v,packs:Ee,cards:We,logOut:Ke}),Be=Object(Le.c)(Fe,Object(Le.a)(Ye.a));window.store=Be;var He=Be;c.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(u.a,{children:Object(l.jsx)(f.a,{store:He,children:Object(l.jsx)(_e,{})})})}),document.getElementById("root")),Ue()}},[[75,1,2]]]);
//# sourceMappingURL=main.4731c40f.chunk.js.map